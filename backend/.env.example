# PELBIOT Backend Configuration
# Copy this file to .env and fill in your actual values

# ===== Server Configuration =====
PORT=5000
NODE_ENV=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# ===== Database Configuration =====
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_database_password
DB_NAME=pelbiot
DB_POOL_SIZE=10
DB_CONNECTION_LIMIT=20

# ===== Redis Configuration =====
# Used for caching and rate limiting
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# ===== Email Service Configuration =====
# SMTP Configuration for sending notifications
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password
EMAIL_FROM=PELBIOT <noreply@pelbiot.com>
EMAIL_ADMIN=admin@pelbiot.com

# ===== JWT Configuration =====
JWT_SECRET=your_jwt_secret_key_change_this_in_production
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key
JWT_REFRESH_EXPIRE=30d

# ===== Sentry Error Tracking =====
# Get your DSN from https://sentry.io
SENTRY_DSN=https://your-key@sentry.io/your-project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# ===== Rate Limiting Configuration =====
# Standard rate limiter
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Advanced rate limiter
RATE_LIMIT_PER_IP_REQUESTS=1000
RATE_LIMIT_PER_IP_WINDOW_MS=60000
RATE_LIMIT_DDoS_THRESHOLD=1000

# ===== Circuit Breaker Configuration =====
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT_MS=60000

# ===== Validation Configuration =====
MAX_FILE_UPLOAD_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,csv,xlsx
MAX_ARRAY_LENGTH=1000
MAX_STRING_LENGTH=10000

# ===== Security Configuration =====
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ===== Feature Flags =====
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SENTRY_TRACKING=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_CIRCUIT_BREAKER=true

# ===== Logging Configuration =====
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===== API Documentation =====
SWAGGER_ENABLED=true
SWAGGER_PATH=/api-docs

# ===== Third-party Services (Optional) =====
# Add any third-party service configurations here
NOTIFICATION_SERVICE_KEY=
ANALYTICS_SERVICE_KEY=

# ===== Development =====
# Set to true to enable debug logging
DEBUG=false
DEBUG_MODE=false
VERBOSE_LOGGING=false
